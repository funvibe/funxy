// Test: Multiple constraints error
// Bool implements Printable but NOT Cmp

trait Printable<t> {
    fun format(val: t) -> String
}

trait Cmp<t> {
    fun cmp(a: t, b: t) -> Bool
}

// Only Printable for Bool, NOT Cmp
instance Printable Bool {
    fun format(val: Bool) -> String {
        if val { "true" } else { "false" }
    }
}

// Both Printable and Cmp for Int
instance Printable Int {
    fun format(val: Int) -> String { "int" }
}

instance Cmp Int {
    fun cmp(a: Int, b: Int) -> Bool { a == b }
}

// Function requires BOTH Printable AND Cmp
fun process<t: Printable, Cmp>(x: t, y: t) -> String {
    if cmp(x, y) { format(x) } else { "different" }
}

// Works - Int implements both
print(process(1, 1))

// ERROR - Bool implements Printable but NOT Cmp
print(process(true, false))
