import "lib/test" (*)

testRun("Range in List Comprehension", fun() -> {
    // Basic range
    l1 = [x | x <- 1..5]
    assertEquals([1, 2, 3, 4, 5], l1, "1..5")

    // Filtered range
    l2 = [x | x <- 1..10, x % 2 == 0]
    assertEquals([2, 4, 6, 8, 10], l2, "Evens in 1..10")

    // Nested ranges
    l3 = [(x, y) | x <- 1..2, y <- 1..2]
    assertEquals([(1, 1), (1, 2), (2, 1), (2, 2)], l3, "Nested 1..2")

    // Range with step (syntax sugar check)
    // (start, next)..end
    l4 = [x | x <- (1, 3)..10]
    assertEquals([1, 3, 5, 7, 9], l4, "(1, 3)..10")

    // Char range
    l5 = [c | c <- ('a', 'c')..'d']
    assertEquals("ac", l5, "('a', 'c')..'d'")
})
