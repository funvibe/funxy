package cache (*)

// Storage trait - КОЛЛИЗИЯ с db/storage.Storage!
trait Storage<T> {
    fun persist(item: T) -> String
    fun retrieve(key: String) -> Option<T>
    fun invalidate(key: String) -> Bool
}

type CacheConfig = MkCacheConfig { ttl: Int, maxSize: Int, evictionPolicy: String }
type CacheEntry<T> = MkCacheEntry { key: String, value: T, expiresAt: Int }

fun createDefault() {
    MkCacheConfig { ttl: 300, maxSize: 1000, evictionPolicy: "LRU" }
}

fun createEntry(k: String, v, exp: Int) {
    MkCacheEntry { key: k, value: v, expiresAt: exp }
}

